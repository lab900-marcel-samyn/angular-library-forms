<mat-form-field [formGroup]="group" *ngIf="!fieldIsHidden" class="lab900-file-field"
                id="lab900-file-field-{{schema?.attribute}}" style="display: none;">
  <mat-label translate>{{schema.title}}</mat-label>
  <lab900-mat-file-field
    #fileField
    [hidden]="true"
    [attr.disabled]="fieldIsReadonly"
    [required]="required"
    [disabled]="fieldIsReadonly"
    [formControlName]="schema.attribute"
    [accept]="options?.accept"
    [multiple]="options?.multiple"
    placeholder="{{ placeholder | translate }}"
  ></lab900-mat-file-field>
  <mat-hint *ngIf="hint"><span [innerHTML]="hint | translate: hintValueTranslateData"></span></mat-hint>
  <mat-error *ngIf="!valid"><span [innerHTML]="getErrorMessage() | async "></span></mat-error>
</mat-form-field>
<button mat-raised-button color="primary"
        (click)="addFiles()">{{options?.fileUploadButtonText ? options?.fileUploadButtonText : 'Upload' | translate}}</button>
<div class="images-wrapper">
  <ng-container *ngFor="let file of files.getValue()">
    <mat-card class="image-wrapper" [disabled]="!options?.canEditFileMetaData"
              lab900FormDialog [schema]="options?.fileMetaDataConfig" [data]="file"
              [submitFormHandler]="onMetaDataChanged.bind(this)">

      <mat-icon (click)="removeFile(file)" class="delete-image">close</mat-icon>
      <div class="image" style="background-image: url('{{file.imageSrc}}')" *ngIf="file.imageSrc"></div>
      <p [className]="file.imageSrc ? 'file-name ellipse' : 'file-name'" [matTooltip]="file.name">{{ file.name }}</p>
    </mat-card>
  </ng-container>
</div>

