<div class="lab900-table {{tableClass}}">
  <mat-table *ngIf="(data?.length || neverHideTable) && tableCells?.length && !disableTable" [dataSource]="data" class="mat-elevation-z0">

    <ng-container *ngFor="let cell of tableCells" [matColumnDef]="cell.key">
      <mat-header-cell *matHeaderCellDef="let element">{{ getCellLabel(element, cell) | translate }}</mat-header-cell>
      <mat-cell [className]="getCellClass(element, cell)" *matCellDef="let element">{{ getCellValue(element, cell) | translate }}</mat-cell>
    </ng-container>

    <ng-container matColumnDef="actions" stickyEnd>
      <mat-header-cell *matHeaderCellDef></mat-header-cell>
      <mat-cell *matCellDef="let element">
        <div fxLayout="row" fxLayoutGap="8">
          <ng-container *ngFor="let action of tableActions">
            <button *ngIf="action.type === 'btn'" mat-flat-button color="primary" (click)="action.action(element)">{{ getActionLabel(element, action) | translate }}</button>
            <button *ngIf="action.type === 'icon-btn'" mat-icon-button color="primary" (click)="action.action(element)"><mat-icon>{{ getActionLabel(element, action) }}</mat-icon></button>
          </ng-container>
        </div>
      </mat-cell>
    </ng-container>

    <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
    <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>

  </mat-table>

  <div class="lab900-table__empty" *ngIf="data && !data.length && !disableTable">
    <ng-container *ngIf="emptyTableTemplate">
      <ng-container *ngTemplateOutlet="emptyTableTemplate"></ng-container>
    </ng-container>
    <ng-container *ngIf="!emptyTableTemplate">
      <h3>{{'GENERAL.NO_RESULTS.TITLE' | translate}}</h3>
      <p>{{'GENERAL.NO_RESULTS.DESC' | translate}}</p>
    </ng-container>
  </div>

  <div *ngIf="disableTable">
    <ng-container *ngIf="disableTableTemplate">
      <ng-container *ngTemplateOutlet="disableTableTemplate"></ng-container>
    </ng-container>
    <ng-container *ngIf="!disableTableTemplate">
      <!-- ToDo: Translations for when disabled -->
      <h3>{{'GENERAL.DISABLED.TITLE' | translate}}</h3>
      <p>{{'GENERAL.DISABLED.DESC' | translate}}</p>
    </ng-container>
  </div>

</div>
